#!/bin/bash
# Dzen Popup displaying highest $num core temperatures

font="-*-inconsolata-*-*-*-*-12-*-*-*-*-*-iso8850-*"

bgn='#303030'
bgs='#ac4142'
fgn='#eeeeee'
fgs='#ac4142'


# Define Custom colors:
red='#ac4142'
orange='#d6a372'
yellow='#d6bd72'
green='#769e3c'
blue='#2b5d6b'


# Number of temp's displayed:
num=7


Templist(){
	str=""
	for val in $(temp $num);
	do
		temp="${val%????}"
		temp2="${temp#?}"
		symb="^c(7)"
		# symb=$val

		if [ $temp2 -gt 90 ]; then
			echo "$str ^fg($red)$symb)^fg() $val;"
		elif [ $temp2 -gt 75 ]; then
			echo "$str ^fg($orange)$symb^fg() $val;"
		elif [ $temp2 -gt 50 ]; then
			echo "$str ^fg($yellow)$symb^fg() $val;"
		elif [ $temp2 -gt 25 ]; then
			echo "$str ^fg($green)$symb^fg() $val;"
		else
			echo "$str ^fg($blue)$symb^fg() $val;"
		fi
	done
}




(echo "Core Temp:";echo "$(Templist)" ; sleep 5 )| dzen2 -m -l $num -e 'onstart=uncollapse;button1=exit' -h 18 -y 20 -ta c -sa c -fn $font -fg $fgn -bg $bgn -w 90 -x 1375

