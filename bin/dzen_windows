#!/bin/bash
# Dzen Popup displaying all window on current desktop

font="-*-inconsolata-*-*-*-*-12-*-*-*-*-*-iso8850-*"

bgn='#303030'
bgs='#ac4142'
fgn='#eeeeee'
fgs='#ac4142'


# Define Custom colors:
red='#xxxxxx'
orange='#xxxxxx'
yellow='#xxxxxx'
green='#xxxxxx'
blue='#xxxxxx'

num=$(wmctrl -l | wc -l)

WindowList(){
	wmctrl -l | awk '{print $4 " " $NF}'	
}


(echo "Open windows:" ;\
wmctrl -l | while read line; do echo $line | awk '{printf "^ca(1, wmctrl -i -a "$1")"; $2="^c(7)"; $1=$3="";print $0 "^ca() "}'; done ) | \
dzen2 -p 5 -m -l $num -e 'onstart=uncollapse;button3=exit' -h 18 -y 20 -x 70 -ta c -sa l -fn $font -fg $fgn -bg $bgn -w 340


# (echo "Windows:";echo "$(WindowList)" ; sleep 5 )| dzen2 -m -l $num -e 'onstart=uncollapse;button1=exit' -h 18 -y 20 -ta c -sa l -fn $font -fg $fgn -bg $bgn -w 210 -x 65

